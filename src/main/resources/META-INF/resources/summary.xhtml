<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
  
<f:view>
    <h:head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <title>ÖREB-Kataster Compliance Test Suite</title>
        <!-- <h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css" />-->
        <h:outputStylesheet name="css/oerebctsws.css"/>
    </h:head>

    <h:body>

		 <!--<h:form >-->
             <div id="container"> 
                <div id="title">ÖREB-Kataster Compliance Test Suite</div>
                          
		        <p:dataTable id="result-table" var="result" value="#{summaryView.results}" reflow="true" tableStyle="table-layout: auto;">
		        <!--<p:dataTable id="result-table" var="result" value="#{summaryView.results}" reflow="true" scrollable="true" scrollHeight="100%">-->

<!-- 
https://balusc.omnifaces.org/2020/11/using-java-14-records-in-jsf-via-eclipse.html
Records-Unterstützung ist nicht garantiert. Darum erfolgt der Zugriff anders (mit Klammer).
 -->
		            <p:column id="result-table-column-ident" headerText="Ident">
		                <h:outputText value="#{result.identifier()}" />
		            </p:column>
		
		            <p:column id="result-table-column-serviceendpoint" headerText="Service Endpoint">
		                <h:outputText value="#{result.serviceEndpoint()}" />
		            </p:column>
		
		            <p:column id="result-table-column-successversions" headerText="Versions" >		                
                        <!-- <p:badge value="SUCCESS" styleClass="badge-success" rendered="#{result.successVersions()}"></p:badge> -->		                
                        <p:badge value="#{result.successVersions() ? 'SUCCESS' : 'FAILURE'}" styleClass="#{result.successVersions() ? 'badge-success' : 'badge-failure'}"></p:badge>
                        &nbsp;
						<h:link outcome="detail" class="black-link" target="_blank">
                            <f:param name="identifier" value="#{result.identifier()}" />
                            <f:param name="probe" value="versions" />
                            <i class="pi pi-external-link"></i>
						</h:link>
		            </p:column>

                    <p:column id="result-table-column-successcapabilities" headerText="Capabilities">                       
                        <p:badge value="#{result.successCapabilities() ? 'SUCCESS' : 'FAILURE'}" styleClass="#{result.successCapabilities() ? 'badge-success' : 'badge-failure'}"></p:badge>
                        &nbsp;
                        <h:link outcome="detail" class="black-link" target="_blank">
                            <f:param name="identifier" value="#{result.identifier()}" />
                            <f:param name="probe" value="capabilities" />
                            <i class="pi pi-external-link"></i>
                        </h:link>
                    </p:column>

                    <p:column id="result-table-column-successegrid" headerText="Egrid" >                       
                        <p:badge value="#{result.successEgrid() ? 'SUCCESS' : 'FAILURE'}" styleClass="#{result.successEgrid() ? 'badge-success' : 'badge-failure'}"></p:badge>
                        &nbsp;
                        <h:link outcome="detail" class="black-link" target="_blank">
                            <f:param name="identifier" value="#{result.identifier()}" />
                            <f:param name="probe" value="egrid" />
                            <i class="pi pi-external-link"></i>
                        </h:link>
                    </p:column>
                     
                    <p:column id="result-table-column-successextract" headerText="Extract" >                       
                        <p:badge value="#{result.successExtract() ? 'SUCCESS' : 'FAILURE'}" styleClass="#{result.successExtract() ? 'badge-success' : 'badge-failure'}"></p:badge>
                        &nbsp;
                        <h:link outcome="detail" class="black-link" target="_blank">
                            <f:param name="identifier" value="#{result.identifier()}" />
                            <f:param name="probe" value="extract" />
                            <i class="pi pi-external-link"></i>
                        </h:link>
                    </p:column>
 
                    <p:column id="result-table-column-starttime" headerText="Last Validation">
                        <h:outputText value="#{result.startTime()}">
                            <f:convertDateTime type="localDateTime" pattern="yyyy-MM-dd HH:mm:ss"/>
                        </h:outputText>
                    </p:column>
 
 
		        </p:dataTable>
		     </div>
		    
		 <!--</h:form>-->

    </h:body>
</f:view>
</html>